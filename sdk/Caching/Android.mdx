---
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


# Android
Library that provides a set of components required to interact with local database.

### Getting Started
<Tabs>
<TabItem value="example" label="Example" default>

Example definition of the UserEntry class:  

```kotlin
@Entity(tableName = UserEntity.TABLE_NAME)
data class UserEntity(
    @PrimaryKey
    var id: String = "",
    var givenName: String? = null,
    var familyName: String? = null,
    var avatar: String? = "", // some placeholder image
    var phone: String? = null,
    var email: String? = null,
    var timezone: String? = null,
    var birthday: Long? = null,
    var height: String? = null
    ...

) {
    companion object {
        const val TABLE_NAME = "user"
    }
}   
```

Example definition of the UserDao class:

```kotlin
@Dao
abstract class UserDao : BaseDao<UserEntity> {
  
  //Defines public api for getting first entry of UserEntity
  fun getFirstResult(): Result<UserEntity?, Error> {
        return try {
            Ok(getFirst())
        } catch (t: Throwable) {
            Err(Error.Unknown(t))
        }
    }

  //Get first entry from the UserEntity table in a database
  @Query("SELECT * FROM ${UserEntity.TABLE_NAME} LIMIT 1")
  abstract override fun getFirst(): UserEntity?
}
```

Example definition of the UserMapper class:
```kotlin
class UserMapper : BaseMapper<User, UserEntity> {
    override fun into(source: User): UserEntity {
        return source.toUserEntity()
    }

    override fun from(entity: UserEntity?): User? {
        return entity?.toUser()
    }
}
```

</TabItem>
<TabItem value="installing" label="Installing">

1. Add the dependency in your local build.gradle file:
```kotlin
implementation("com.huma.sdk:huma-caching:<latest-version>")
```
2. Initialize `HumaCachingManager` in your Application class:
```kotlin
HumaCachingManager.init()
```

</TabItem>
<TabItem value="readme" label="Readme" default>

Huma Android SKD uses Room library which provides an abstraction layer over SQLite to allow fluent database access for persisting data locally.    
HumaCachingManager is a provider of an interfaces for interaction with local database.  
HumaCachingManager module encapsulates logic of creating instance of `Humadatabase` inheritanced from `RoomDatabase` and defines interfaces for creating DAOs classes and entities converters.  
There are major components for interaction with database using HumaCachingManager:
* Data entity - class that represents tables in a database.
* Data access object (DAO) - class inherited from `BaseDao` class and provides methods that your app can use to query, update, insert, and delete data in the database.
* Data object mapper - class inherited from `BaseMapper` class and defines methods to convert appropriate app's data class to your data entity class.  

**BaseDao** - defines methods for executing CRUD operations with data in the database.

**BaseMapper** - defines methods to convert from app's data object to database entities and back.

 ### Documentation
[API Reference](https://github.com/huma-engineering/huma-web-sdk/releases)

</TabItem>
<TabItem value="changelog" label="Changelog">

  **[0.1.17]**

  - [#42](https://github.com/huma-engineering/huma-android-sdk/pull/42) Added documentation for HumaCaching module
  - [#40](https://github.com/huma-engineering/huma-android-sdk/pull/40) Created HumaCaching module
  
</TabItem>
</Tabs>